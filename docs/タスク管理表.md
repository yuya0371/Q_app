# タスク管理表 — Q.（仮）

## 凡例
- **担当**
  - `Claude`: Claude が実装/作成
  - `ユーザー`: ユーザーが作業（アカウント作成、申請、コンテンツ作成等）
  - `共同`: 一緒に進める（Claudeが叩き台作成 → ユーザー確認/調整）
- **テスト**: そのタスクにテストが必要か
  - `要`: ユニットテスト/結合テスト必要
  - `動作確認`: 手動での動作確認
  - `-`: テスト不要

---

## フェーズ1: 設計

| # | タスク | 成果物 | 担当 | テスト | 状態 |
|---|---|---|---|---|---|
| 1-1 | DB設計 | DB設計書 | Claude | - | **完了** |
| 1-2 | API設計 | API設計書 | Claude | - | **完了** |
| 1-3 | 画面設計（ワイヤーフレーム） | 画面設計書 | 共同 | - | **完了** |
| 1-4 | システム構成図作成 | システム構成図 | Claude | - | **完了** |

---

## フェーズ2: 環境構築

| # | タスク | 担当 | テスト | 状態 |
|---|---|---|---|---|
| 2-1 | GitHubリポジトリ作成 | ユーザー | - | **完了** |
| 2-2 | AWS環境構築（CDK初期セットアップ） | Claude | 動作確認 | **完了** |
| 2-3 | Expoプロジェクト作成 | Claude | 動作確認 | **完了** |
| 2-4 | 管理画面プロジェクト作成（React） | Claude | 動作確認 | **完了** |
| 2-5 | CI/CD設定（GitHub Actions） | Claude | 動作確認 | **完了** |
| 2-6 | Sentry設定 | Claude | 動作確認 | **完了** |

---

## フェーズ3: バックエンド開発

| # | タスク | 担当 | テスト | 状態 |
|---|---|---|---|---|
| 3-1 | Cognito設定（認証基盤） | Claude | 動作確認 | **完了** |
| 3-2 | DynamoDBテーブル作成 | Claude | 動作確認 | **完了** |
| 3-3 | S3バケット作成（画像用） | Claude | 動作確認 | **完了** |
| 3-4 | API: 認証系（登録/ログイン/パスワードリセット等） | Claude | 要 | **完了** |
| 3-5 | API: ユーザー系（プロフィール取得/更新/検索） | Claude | 要 | **完了** |
| 3-6 | API: フォロー系（フォロー/解除/一覧） | Claude | 要 | **完了** |
| 3-7 | API: お題系（今日の質問取得） | Claude | 要 | **完了** |
| 3-8 | API: 回答系（投稿/削除/復活/一覧） | Claude | 要 | **完了** |
| 3-9 | API: リアクション系（付与/変更/解除） | Claude | 要 | **完了** |
| 3-10 | API: ブロック系（ブロック/解除/一覧） | Claude | 要 | **完了** |
| 3-11 | API: 通報系（通報送信） | Claude | 要 | **完了** |
| 3-12 | API: ユーザーお題提出 | Claude | 要 | **完了** |
| 3-13 | API: プッシュ通知トークン登録 | Claude | 要 | **完了** |
| 3-14 | API: 管理者系（NGワード/通報管理/質問管理） | Claude | 要 | **完了** |
| 3-15 | 定期処理: 今日の質問公開（EventBridge + Lambda） | Claude | 要 | **完了** |
| 3-16 | プッシュ通知送信（Expo Push） | Claude | 動作確認 | **完了** |
| 3-17 | 退会処理（Step Functions） | Claude | 要 | **完了** |
| 3-18 | 画像リサイズ処理（Lambda@Edge or Step Functions） | Claude | 要 | 未着手（後日対応）|

---

## フェーズ4: モバイルアプリ開発

| # | タスク | 担当 | テスト | 状態 |
|---|---|---|---|---|
| 4-1 | 共通: ナビゲーション/ルーティング | Claude | 動作確認 | **完了** |
| 4-2 | 共通: テーマ/スタイル設定（ダークモード対応） | Claude | 動作確認 | **完了** |
| 4-3 | 共通: API通信基盤 | Claude | 要 | **完了** |
| 4-4 | 共通: オフラインキャッシュ | Claude | 要 | **完了** |
| 4-5 | 認証: サインアップ画面 | Claude | 動作確認 | **完了** |
| 4-6 | 認証: ログイン画面 | Claude | 動作確認 | **完了** |
| 4-7 | 認証: パスワードリセット画面 | Claude | 動作確認 | **完了** |
| 4-8 | 認証: メール確認画面 | Claude | 動作確認 | **完了** |
| 4-9 | オンボーディング: アプリ内ID作成画面 | Claude | 動作確認 | **完了** |
| 4-10 | オンボーディング: プロフィール設定画面 | Claude | 動作確認 | **完了** |
| 4-11 | ホーム: 今日の質問表示 | Claude | 動作確認 | **完了** |
| 4-12 | ホーム: 回答投稿画面 | Claude | 動作確認 | **完了** |
| 4-13 | ホーム: タイムライン（フォロー中の回答一覧） | Claude | 要 | **完了** |
| 4-14 | ホーム: リアクション機能 | Claude | 動作確認 | **完了** |
| 4-15 | ホーム: お題提案ボタン/画面 | Claude | 動作確認 | **完了** |
| 4-16 | プロフィール: 自分のプロフィール画面 | Claude | 動作確認 | **完了** |
| 4-17 | プロフィール: 他人のプロフィール画面 | Claude | 動作確認 | **完了** |
| 4-18 | プロフィール: プロフィール編集画面 | Claude | 動作確認 | **完了** |
| 4-19 | プロフィール: 画像アップロード | Claude | 動作確認 | **完了** |
| 4-20 | プロフィール: 過去の回答履歴 | Claude | 動作確認 | **完了** |
| 4-21 | フォロー: フォロー/フォロワー一覧画面 | Claude | 動作確認 | **完了** |
| 4-22 | 検索: ユーザー検索画面 | Claude | 動作確認 | **完了** |
| 4-23 | 設定: 設定画面 | Claude | 動作確認 | **完了** |
| 4-24 | 設定: 閲覧範囲設定 | Claude | 動作確認 | **完了** |
| 4-25 | 設定: ブロック一覧 | Claude | 動作確認 | **完了** |
| 4-26 | 設定: アカウント削除導線 | Claude | 動作確認 | **完了** |
| 4-27 | 通報: 通報画面（ユーザー/投稿） | Claude | 動作確認 | **完了** |
| 4-28 | 通知: プッシュ通知設定/許可リクエスト | Claude | 動作確認 | **完了** |
| 4-29 | 共有: プロフィールリンク共有 | Claude | 動作確認 | **完了** |
| 4-30 | 共有: QRコード生成 | Claude | 動作確認 | **完了** |
| 4-31 | ディープリンク対応 | Claude | 動作確認 | **完了** |
| 4-32 | 強制アップデート機能 | Claude | 動作確認 | **完了** |

---

## フェーズ5: 管理画面開発

| # | タスク | 担当 | テスト | 状態 |
|---|---|---|---|---|
| 5-1 | 認証（Cognito ID Token + isAdmin） | Claude | 動作確認 | **完了** |
| 5-2 | お題管理（運営お題の追加/編集） | Claude | 動作確認 | **完了** |
| 5-3 | お題管理（ユーザーお題の承認/却下） | Claude | 動作確認 | **完了** |
| 5-4 | 通報管理（一覧/対応ステータス更新） | Claude | 動作確認 | **完了** |
| 5-5 | ユーザー管理（検索/詳細/BAN/解除） | Claude | 動作確認 | **完了** |
| 5-6 | NGワード管理（追加/削除） | Claude | 動作確認 | **完了** |
| 5-7 | flagged投稿一覧 | Claude | 動作確認 | **完了** |
| 5-8 | 監査ログ一覧 | Claude | 動作確認 | **完了** |

---

## フェーズ5.5: 仕様差分修正

要件定義書との照合で発見された仕様差分を修正する。

### 高優先度（機能に直結）

| # | タスク | 担当 | テスト | 状態 |
|---|---|---|---|---|
| 5.5-1 | オンタイム判定実装（公開30分以内→On-time、以降→Late） | Claude | 要 | 完了 |
| 5.5-2 | Late表示形式実装（分数表示、丸め表示） | Claude | 動作確認 | 完了 |
| 5.5-3 | タイムライン表示ルール（On-time優先→投稿早い順） | Claude | 要 | 完了 |
| 5.5-4 | 回答削除後の再投稿不可（削除フラグ実装） | Claude | 要 | 完了 |
| 5.5-5 | 削除済み回答の復活機能 | Claude | 要 | 完了 |
| 5.5-6 | 削除済み回答の履歴表示（削除済みラベル＋復活導線） | Claude | 動作確認 | 完了 |

### 中優先度（バリデーション強化）

| # | タスク | 担当 | テスト | 状態 |
|---|---|---|---|---|
| 5.5-7 | アプリ内IDバリデーション修正（先頭英字、15文字、予約語チェック） | Claude | 要 | 完了 |
| 5.5-8 | 表示名バリデーション修正（20文字、絵文字禁止、文字種制限） | Claude | 要 | 完了 |
| 5.5-9 | 回答バリデーション修正（バックエンド: 80文字、URL禁止） | Claude | 要 | 完了 |
| 5.5-10 | NGワード表示時マスク処理（*でマスク） | Claude | 要 | 完了 |

### 低優先度（軽微な修正）

| # | タスク | 担当 | テスト | 状態 |
|---|---|---|---|---|
| 5.5-11 | 通報カテゴリ修正（「個人情報の公開」追加） | Claude | 動作確認 | 完了 |

---

## フェーズ6: テスト・QA

| # | タスク | 担当 | テスト | 状態 |
|---|---|---|---|---|
| 6-1 | ユニットテスト作成（バックエンド） | Claude | - | **完了** |
| 6-2 | ユニットテスト作成（アプリ） | Claude | - | **完了** |
| 6-3 | 結合テスト | 共同 | - | 未着手 |
| 6-4 | テスト仕様書作成 | Claude | - | **完了** |

---

## フェーズ7: リリース準備

| # | タスク | 担当 | テスト | 状態 |
|---|---|---|---|---|
| 7-1 | 運営お題100問用意 | ユーザー | - | 未着手 |
| 7-2 | 利用規約作成 | 共同 | - | 未着手 |
| 7-3 | プライバシーポリシー作成 | 共同 | - | 未着手 |
| 7-4 | ドメイン取得 | ユーザー | - | 未着手 |
| 7-5 | App Store申請準備（スクショ、説明文等） | 共同 | - | 未着手 |
| 7-6 | リリースチェックリスト作成 | Claude | - | 未着手 |
| 7-7 | App Store申請 | ユーザー | - | 未着手 |
| 7-8 | （後日）Web退会導線作成 | Claude | 動作確認 | 未着手 |
| 7-9 | （後日）Google Play申請 | ユーザー | - | 未着手 |

---

## フェーズ8: 運用ドキュメント

| # | タスク | 成果物 | 担当 | テスト | 状態 |
|---|---|---|---|---|---|
| 8-1 | 運用手順書作成 | 運用手順書 | Claude | - | 未着手 |
| 8-2 | 障害対応マニュアル作成 | 障害対応マニュアル | Claude | - | 未着手 |

---

## 進捗サマリー

| フェーズ | 総タスク数 | 完了 | 進行中 | 未着手 |
|---|---|---|---|---|
| 1. 設計 | 4 | 4 | 0 | 0 |
| 2. 環境構築 | 6 | 6 | 0 | 0 |
| 3. バックエンド | 18 | 17 | 0 | 1 |
| 4. アプリ | 32 | 32 | 0 | 0 |
| 5. 管理画面 | 8 | 8 | 0 | 0 |
| 5.5. 仕様差分修正 | 11 | 0 | 0 | 11 |
| 6. テスト・QA | 4 | 3 | 0 | 1 |
| 7. リリース準備 | 9 | 0 | 0 | 9 |
| 8. 運用ドキュメント | 2 | 0 | 0 | 2 |
| **合計** | **94** | **70** | **0** | **24** |
